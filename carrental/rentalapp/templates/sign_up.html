{% extends 'basic.html' %}
{% block title %}
Sign Up
{% endblock %}
{% load crispy_forms_tags %}


{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/signup2.css' %}">

<form class="signup" method="POST" action="">
    {% csrf_token %}
    <h1>Create account</h1>
    <h2>Already have an account? <a href="{% url 'Login' %}">Sign in</a></h2>
  
    <div class="signup__field">
        <label for="{{form.username.label}}">Username:</label>
        {{form.username}}
    </div>
    <div class="signup__field">
        <label for="{{form.first_name.label}}">First name:</label>
        <input type="text" id="{{form.first_name.label}}" name="first_name" required>
    </div>
    <div class="signup__field">
        <label for="{{form.last_name.label}}">Last Name:</label>
        <input type="text" id="{{form.last_name.label}}" name="last_name" required>
    </div>
    <div class="signup__field">
        <label for="{{form.email.label}}">Email:</label>
        <input  type="email" id="{{form.email.label}}" name="email" required>
    </div>
    <div class="signup__field">
        <label for="{{form.phone.label}}">Phone:</label>
        <input id="{{form.phone.label}}" name="phone" required>
    </div>
    <div class="signup__field">
        <label for="{{form.address.label}}">Address:</label>
        <input type="text" id="{{form.address.label}}" name="address" required>
    </div>
    <div class="signup__field">
        <label for="{{form.age.label}}">Age:</label>
        <input type="number" id="{{form.age.label}}" name="age">
    </div>
    <div>
        <label for="img">Select image:</label>
        <input type="file" id="img" name="profile_pic" accept="image/*">
    </div>
    <div class="signup__field">
        {{form.password1.label}}
        {{form.password1}}
    </div>
    <div class="signup__field">
        {{form.password2.label}}
        {{form.password2}}
    </div>


    {% if form.errors%}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <p>{{ form.errors}}</p>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    {%endif%}
    <button type="submit">Sign up</button>
  </form>
  <script>
    /* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
  //We start indexing at one because CSRF_token is considered and input field 
  */
  
    //Query All input fields
    var form_fields = document.getElementsByTagName("input");
    form_fields[1].placeholder = "First Name";
    form_fields[2].placeholder = "Last Name";
    form_fields[3].placeholder = "Username";
    form_fields[4].placeholder = "Email";
    form_fields[5].placeholder = "Phone Number";
    form_fields[6].placeholder = "Address";
    form_fields[7].placeholder = "Age";
    form_fields[9].placeholder = "Enter Password...";
    form_fields[10].placeholder = "Re-enter Password...";
  
    for (var field in form_fields) {
      form_fields[field].className += " form-control";
    }
  </script>
  
  
{% endblock %}